# ligo-igo
Этот репозиторий содержит специфические скрипты и мануалы для специфических задач

Состав пакета:

khooylowbot.py

archivarius.py

capibarakoroed.py
    image1.jpg
    image2.jpg
    image3.jpg
    video.mp4
    
duty_capibarakoroed.py

Инструкция по применению:

Перед началом работы полезно завести таблицу с названиями ботов, их токенами, данными api и отметить, каким скриптам они соответствуют и какие у них должны быть права. Также выясните SOURCE CHANNEL ID и TARGET CHANNEL ID, например, при помощи форварда сообщения с канала в адрес https://t.me/JsonDumpBot , проверьте их соответствие и добавьте их в таблицу. Помните, что токены ботов-админов, api id и api hash — крайне чувствительные данные, держите их в надежном месте.


Получение bot token:

Чтобы получить токен для бота в Телеграм, вам нужно выполнить следующие шаги:

1.Откройте приложение Telegram и найдите бота, который будете использовать.

2.Свяжитесь с BotFather. Это официальный бот Telegram, который поможет вам создать нового бота или получить токен для существующего.

3.Напишите BotFather'у сообщение "/newbot" и следуйте инструкциям, которые он даст вам в ответ. Вы должны будете указать имя вашего бота и его уникальный идентификатор (username).

4.После успешного создания бота BotFather пришлет вам сообщение с токеном вашего бота. Токен выглядит примерно так: "1234567890:ABCDEFGHIJKLMNOPQRSTUVWXYZ1234567890".

5. Сохраните токен в надежном месте, так как он будет использоваться вашим ботом для взаимодействия с Telegram API.


Получение API_ID и API_HASH

Для получения API ID и API HASH для Telegram API вы должны выполнить следующие действия:

1.Перейдите на сайт Telegram API (https://my.telegram.org/auth) и авторизуйтесь.

2.После авторизации вы увидите страницу с заголовком "API Development Tools".

3.На этой странице вам нужно создать новое приложение, нажав на кнопку "Создать новое приложение" (Create Application).

4.В появившемся окне заполните поля "Название" (App title) и "Сайт" (App website). Заполнение остальных полей необязательно.

5.После заполнения формы нажмите на кнопку "Создать приложение" (Create application, тип - Other, Python).

6.На следующей странице вы увидите ID приложения (API ID) и хеш приложения (API HASH). Сохраните их в надежном месте.

API ID и API HASH используются для аутентификации вашего приложения в Telegram API. Пожалуйста, не делитесь ими с другими людьми.


Добавление ботов в группы

Для того чтобы добавить бота в группу и сделать его администратором, нужно:

1.Найти бота в Telegram, используя его имя пользователя или название.

2.Нажать на имя бота и открыть чат с ним.

3.Нажать на кнопку "Добавить в группу" и выбрать группу, в которую вы хотите добавить бота.

4.Открыть настройки группы и выбрать раздел "Администраторы".

5.Нажать на кнопку "Добавить администратора" и выбрать добавленного бота из списка контактов.

6.Убедиться, что у бота нет никаких прав, иначе отмените их.

7.После того, как вы добавите бота в группу и сделаете его администратором, он начнет работать и отвечать на сообщения в этой группе.
 
 
Запуск ботов

Перед первым запуском пропишите в кодах ботов необходимые данные авторизации и поменяйте переменные, если необходимо. 

Все боты запускаются из консоли командой
python3 [scriptname].py

Чтобы логи не сыпались в консоль, перед командами запуска поставьте nohup, например: 
nohup python3 [scriptname].py
Скрипты будут сыпать свои логи в файл nohup.out, он будет расти в размере. Для отправки этих данных в null вместо файла используйте команду 
    nohup python3 [scriptname].py >/dev/null 2>&1
    
   


khooylowbot.py

Этот cкрипт на языке Python запускает бота в Telegram. Этот бот работает всегда. Для запуска бота вам нужно:

Получить токен для вашего бота в Telegram. Вы можете получить его, следуя инструкциям на официальном сайте Telegram: https://core.telegram.org/bots#6-botfather

Заменить "insert_token" в строке 10 на ваш токен.

Установить необходимые пакеты. Этот скрипт использует библиотеку telegram и re, которые вы можете установить, запустив команду в терминале:

pip3 install python-telegram-bot==13.7

Запустить скрипт. Скрипт можно запустить в вашей среде разработки или в терминале, перейдя в папку с файлом скрипта и запустив команду:

python3 khooylowbot.py

После запуска бот будет готов к работе и будет отвечать на сообщения в групповых чатах и личных сообщениях.




Порядок работы пакета:

archivarius запускается раньше всех и обрабатывает порядка 5000 постов в сутки. capibarakoroed на хорошем соединении обрабатывает посты вдвое быстрее, поэтому рассчитайте время запуска так, чтобы archivarius успевал копировать посты раньше, чем до них доберется capibara. Когда закончит archivarius, дайте закончить капибаре и после этого запускайте reposter.
khooylowbot работает независимо от всех может быть запущен и остановлен в любое время. 


Если случился вылет или рестарт:

archivarius - посмотрите номер последнего скопированного поста, поправьте стартовый номер в скрипте, после чего перезапустите;

capibarakoroed - вручную перебором номера поста в ссылке найдите последний поправленный пост. Если вводить URL в поле search телеграма, он сразу будет показывать превью поста в результатах, по которому будет видно, поправлен пост, или нет. Меняйте номер поста в url и найдите последний поправленный. Либо ищите поиском  Выясните его номер и поправьте стартовый номер поста в скрипте, после чего перезапускайте;

reposter - не нуждается в правке кода и начинает работать сразу после запуска;
    
khooylowbot - та же хрень



archivarius.py

Этот скрипт на языке Python используется для пересылки сообщений из одного канала в другой в Telegram. Он необходим, например, для архивации канала. Данный скрипт запускается один раз и работает, пока не скопирует весь канал. 

Чтобы запустить скрипт, сначала необходимо внести несколько изменений в код:

Замените "YOUR_API_TOKEN" на свой токен бота Telegram. Если у вас еще нет токена, то следует создать бота и получить его токен, следуя инструкциям на официальном сайте Telegram https://core.telegram.org/bots#6-botfather. Обратите внимание, что это должен быть другой бот. 

Замените "SOURCE_CHANNEL_ID" и "TARGET_CHANNEL_ID" на ID каналов, из которых и куда будут пересылаться сообщения.
Замените "START_MESSAGE_ID" на ID первого сообщения, которое нужно переслать.

После того, как вы внесете эти изменения, вы можете запустить скрипт. Для этого:

Откройте командную строку на своем компьютере.
Перейдите в папку, где находится файл со скриптом.
Убедитесь, что у вас установлен Python версии 3.x и все необходимые библиотеки (requests, telegram, python-telegram-bot).

Напишите команду 

python3 archivarius.py

чтобы запустить скрипт.

Сообщения будут пересылаться каждые 15 секунд до тех пор, пока вы не остановите скрипт вручную.
    
    
capibarakoroed.py

Данный скрипт предназначен для автоматического обновления медиа-файлов и подписи к сообщениям в заданном чате в Telegram. Для работы боту необходимо быть администратором с правами.

Для того, чтобы запустить этот скрипт, вам нужно:

Получить API ID и API HASH, создать бота и получить его токен.

Заменить YOUR_API_ID, YOUR_API_HASH, YOUR_BOT_TOKEN, YOUR_CHAT_ID на свои соответствующие значения.

Предварительно загрузить необходимые медиа-файлы (изображения и видео) в папку с данным скриптом.

Указать в переменной media_files список имен этих файлов.

Заменить caption_text на желаемую подпись к сообщениям.

Задать значения START_ID и END_ID - это идентификаторы сообщений в заданном чате, которые вы хотите обновить.

Сохранить изменения и запустить скрипт через командную строку.
    
 python3 capibarakoroed.py
    


reposter.py




